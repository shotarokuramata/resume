# 基本情報

|項目名|内容|
|----|----|
|名前|倉又 祥太郎|
|メール|shotarokuramata@gmail.com|
|github|https://github.com/shotarokuramata|
|生年月|1992/10/18|
|居住地|東京都|
|最終学歴|中央大学 法学部 政治学科|
|資格|AWS Certified Solutions Architect Associate, LinuC レベル1, 総合旅行業務取扱管理者 |

# 経歴詳細

## プロジェクト名:デジタルパンフレット
### 実施したこと

- 社内で利用しているオンプレミスのデジタルパンフレットシステムのサーバー廃止に伴い、同システムをAWSへ移行した。
    - 営業部署やインフラチームとの協力のもと、障害及びダウンタイム無しでの移行を実施した。

- 開発環境、本番環境ともにコンテナを用いたアーキテクチャへの変更を行った。
    - 開発環境については、コンテナ化したことで依存先のCLIツールについてのテストが可能となり、継続的な改修が可能となった。
    - 本番環境において場合によっては10分以上レスポンスに時間がかかっていたバッチ処理や画像処理について、差分更新の導入や、並列・非同期化したコンテナタスクへの変更によりレスポンスを数秒まで削減した。

- デプロイ方法がsshしか用意されていなかったため、移行先ではCI/CDの構築を行った。
    - 品質担保のため静的解析(phpstan)を導入した。

### 期間
2024/04 ~ 2024/10 (他プロジェクトの兼務あり)
### 仕様した技術
- PHP
- Phalcon + 社内フレームワーク
- Docker
- Ghostscript
- AWS Aurora Mysql
- AWS ECS on Fargate
- AWS StepFunctions
- AWS Lambda
- AWS Batch
- AWS CloudFormation
- AWS CloudWatch

### 関係部署
- 開発部
    - 私一名
- インフラチーム
- デザインチーム(アプリケーションのデザインではなく、パンフレット作製チーム)
- 企画営業部
- 法人営業部


#### 課題や工夫したこと
- 引継ぎ当初は誰もわからないブラックボックス状態だった。
    - 調査を行いながらgithub上へwikiを用いて仕様などのマニュアルを作成し、引継ぎ可能な状態になるよう心がけた。
    - IaCにも取り組んだ。(インフラリソースは、インフラチームに協力してもらいました。)
- 過去の障害についてヒアリングや調査を実施した結果、オンプレミス側の検証環境から本番環境へ波及しかねないバグが存在することが発覚していた。
    - 開発段階からコンテナ化を進めていた。結果的に開発プロセスの効率化や旧来からのバグ修正に繋がった。
- レスポンス時間の削減においては、関係部署の了承のもと、可能な限りシンプルな処理内容にできるよう仕様変更をして対処を行った。
    - 日時で10万件程度のパンフレットが不要にバッチ処理の対象となっているケースが存在しており、これを取り除くことができた。
    - アプリケーションのロジックをシンプルにすることができた。

#### 時間があればやりたかったこと
- CIについて、静的解析だけではなくユニットテストを導入したかった。
    - 社内フレームワークを利用しているプロジェクトはファットコントローラーになりがちな問題を抱えており、今回は移行期間までにアプリケーションを稼働させることを優先した。
- 画像処理について、パンフレット単位の並列化ではなくページ単位の並列化を実施したかった。
    - こちらも稼働時期を鑑みて、既存のソースをなるべく生かす方法で移行した。

